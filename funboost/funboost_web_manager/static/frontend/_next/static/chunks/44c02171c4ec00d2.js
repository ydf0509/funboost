(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59544,e=>{"use strict";var s=e.i(43476),a=e.i(7670);let t={primary:"bg-[hsl(var(--accent))] text-white hover:bg-[hsl(var(--accent-2))]",secondary:"bg-[hsl(var(--accent-2))] text-white hover:bg-[hsl(var(--accent))]",outline:"border border-[hsl(var(--line))] text-[hsl(var(--ink))] hover:border-[hsl(var(--accent))] hover:text-[hsl(var(--accent))]",ghost:"text-[hsl(var(--ink))] hover:bg-[hsl(var(--sand-2))]",danger:"bg-[hsl(var(--danger))] text-white hover:bg-[hsl(var(--danger))]/90",success:"bg-[hsl(var(--success))] text-white hover:bg-[hsl(var(--success))]/90",warning:"bg-[hsl(var(--warning))] text-white hover:bg-[hsl(var(--warning))]/90"},r={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-sm"};function l({variant:e="primary",size:l="md",className:i,...n}){return(0,s.jsx)("button",{className:(0,a.default)("inline-flex items-center justify-center gap-2 rounded-full font-medium transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[hsl(var(--accent))] focus-visible:ring-offset-2 focus-visible:ring-offset-[hsl(var(--sand))]",t[e],r[l],i),...n})}e.s(["Button",()=>l])},39964,e=>{"use strict";var s=e.i(43476),a=e.i(7670);function t({glass:e=!0,className:t,...r}){return(0,s.jsx)("div",{className:(0,a.default)("rounded-3xl p-6",e?"glass-card":"bg-[hsl(var(--card))] border border-[hsl(var(--line))]",t),...r})}e.s(["Card",()=>t])},96640,e=>{"use strict";var s=e.i(43476),a=e.i(7670);let t={neutral:"bg-[hsl(var(--sand-2))] text-[hsl(var(--ink))]",success:"bg-[hsl(var(--success))]/15 text-[hsl(var(--success))]",warning:"bg-[hsl(var(--warning))]/15 text-[hsl(var(--warning))]",danger:"bg-[hsl(var(--danger))]/15 text-[hsl(var(--danger))]",info:"bg-[hsl(var(--info))]/15 text-[hsl(var(--info))]"};function r({tone:e="neutral",className:r,...l}){return(0,s.jsx)("span",{className:(0,a.default)("inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-[0.12em]",t[e],r),...l})}e.s(["Badge",()=>r])},65261,e=>{"use strict";let s=(0,e.i(75254).default)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);e.s(["KeyRound",()=>s],65261)},78098,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(65261),r=e.i(63488),l=e.i(96640),i=e.i(59544),n=e.i(39964),c=e.i(20777),h=e.i(9165);function d(){let[e,d]=(0,a.useState)({user_name:"",email:"",status:"",roles:[],last_login:""}),[o,v]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,h.apiFetch)("/api/profile");if(e.success&&e.data){let{user_name:s,email:a,status:t,roles:r,last_login:l}=e.data;d({user_name:s,email:a||"",status:t||"",roles:r||[],last_login:l?`上次登录: ${l.time} (IP: ${l.ip})`:""})}}catch(e){v(e instanceof Error?e.message:"加载个人信息失败。")}})()},[]),(0,s.jsxs)("div",{className:"space-y-6",children:[o?(0,s.jsx)(n.Card,{className:"border border-[hsl(var(--accent))]/30 bg-[hsl(var(--accent))]/10 text-sm text-[hsl(var(--accent-2))]",children:o}):null,(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)(n.Card,{children:[(0,s.jsx)("h3",{className:"font-display text-lg text-[hsl(var(--ink))]",children:"账户信息"}),(0,s.jsxs)("div",{className:"mt-4 space-y-2 text-sm text-[hsl(var(--ink-muted))]",children:[(0,s.jsxs)("div",{children:["用户名：",(0,s.jsx)("span",{className:"font-semibold text-[hsl(var(--ink))]",children:e.user_name})]}),(0,s.jsxs)("div",{children:["邮箱：",(0,s.jsx)("span",{className:"font-semibold text-[hsl(var(--ink))]",children:e.email||"-"})]}),(0,s.jsxs)("div",{children:["状态：",(0,s.jsx)(l.Badge,{tone:"info",children:e.status||"-"})]}),(0,s.jsxs)("div",{children:["角色：",e.roles.length?e.roles.join(", "):"-"]}),(0,s.jsx)("div",{className:"text-xs text-[hsl(var(--ink-muted))]",children:e.last_login})]})]}),(0,s.jsxs)(n.Card,{children:[(0,s.jsx)("h3",{className:"font-display text-lg text-[hsl(var(--ink))]",children:"安全设置"}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,s.jsx)(c.StaticLink,{href:"/profile/change-password",className:"inline-flex",children:(0,s.jsxs)(i.Button,{variant:"outline",children:[(0,s.jsx)(t.KeyRound,{className:"h-4 w-4"}),"修改密码"]})}),(0,s.jsx)(c.StaticLink,{href:"/profile/change-email",className:"inline-flex",children:(0,s.jsxs)(i.Button,{variant:"outline",children:[(0,s.jsx)(r.Mail,{className:"h-4 w-4"}),"修改邮箱"]})})]})]})]})]})}e.s(["default",()=>d])}]);