(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38171,e=>{"use strict";var t=e.i(43476),s=e.i(7670),a=e.i(39964);let l={success:{border:"border-l-4 border-l-[hsl(var(--success))]",value:"text-[hsl(var(--success))]",bg:"bg-[hsl(var(--success)/0.05)]"},danger:{border:"border-l-4 border-l-[hsl(var(--danger))]",value:"text-[hsl(var(--danger))]",bg:"bg-[hsl(var(--danger)/0.05)]"},warning:{border:"border-l-4 border-l-[hsl(var(--warning))]",value:"text-[hsl(var(--warning))]",bg:"bg-[hsl(var(--warning)/0.05)]"},info:{border:"border-l-4 border-l-[hsl(var(--info))]",value:"text-[hsl(var(--info))]",bg:"bg-[hsl(var(--info)/0.05)]"},neutral:{border:"",value:"text-[hsl(var(--ink))]",bg:""}};function r({label:e,value:r,helper:n,tone:i="neutral"}){let c=l[i];return(0,t.jsxs)(a.Card,{className:(0,s.default)("flex flex-col gap-2 transition-all duration-200 hover:shadow-lg cursor-default",c.border,c.bg),children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-[hsl(var(--ink-muted))]",children:e}),(0,t.jsx)("div",{className:(0,s.default)("font-display text-2xl",c.value),children:r}),n?(0,t.jsx)("p",{className:"text-xs text-[hsl(var(--ink-muted))]",children:n}):null]})}e.s(["StatCard",()=>r])},34084,e=>{"use strict";var t=e.i(43476),s=e.i(7670);function a({title:e,subtitle:a,actions:l,className:r}){return(0,t.jsxs)("div",{className:(0,s.default)("flex flex-wrap items-start justify-between gap-4",r),children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-display text-lg text-[hsl(var(--ink))]",children:e}),a?(0,t.jsx)("p",{className:"text-sm text-[hsl(var(--ink-muted))]",children:a}):null]}),l?(0,t.jsx)("div",{className:"flex items-center gap-2",children:l}):null]})}e.s(["SectionHeader",()=>a])},67073,e=>{"use strict";var t=e.i(43476),s=e.i(7670);function a({className:e,...a}){return(0,t.jsx)("select",{className:(0,s.default)("w-full rounded-2xl border border-[hsl(var(--line))] bg-[hsl(var(--card))]/80 px-4 py-2 text-sm text-[hsl(var(--ink))] shadow-sm outline-none transition focus:border-[hsl(var(--accent))] focus:ring-2 focus:ring-[hsl(var(--accent))]/20",e),...a})}e.s(["Select",()=>a])},40803,e=>{"use strict";var t=e.i(43476),s=e.i(39964);function a({title:e,subtitle:a,action:l}){return(0,t.jsxs)(s.Card,{className:"flex flex-col items-start gap-3",children:[(0,t.jsx)("h3",{className:"font-display text-lg text-[hsl(var(--ink))]",children:e}),a?(0,t.jsx)("p",{className:"text-sm text-[hsl(var(--ink-muted))]",children:a}):null,l?(0,t.jsx)("div",{children:l}):null]})}e.s(["EmptyState",()=>a])},32098,37727,e=>{"use strict";var t=e.i(43476),s=e.i(71645);let a=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>a],37727);var l=e.i(7670),r=e.i(59544);let n={sm:"max-w-md",md:"max-w-xl",lg:"max-w-3xl",xl:"max-w-5xl"};function i({open:e,title:i,onClose:c,children:d,footer:h,size:o="lg",subtitle:m}){let x=(0,s.useCallback)(e=>{"Escape"===e.key&&c()},[c]);return((0,s.useEffect)(()=>{if(e)return document.body.style.overflow="hidden",document.addEventListener("keydown",x),()=>{document.body.style.overflow="",document.removeEventListener("keydown",x)}},[e,x]),e)?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-10",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-md transition-opacity duration-300 ease-out",onClick:c,"aria-hidden":"true"}),(0,t.jsxs)("div",{className:(0,l.default)("relative w-full rounded-3xl p-8 shadow-2xl","bg-[hsl(var(--card))]/95 backdrop-blur-xl","border border-[hsl(var(--line))]/50","animate-in fade-in-0 zoom-in-95 duration-300 ease-out",n[o]),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between border-b border-[hsl(var(--line))]/60 pb-4 mb-2",children:[(0,t.jsxs)("div",{className:"flex-1 pr-4",children:[(0,t.jsx)("h2",{id:"modal-title",className:"font-display text-xl font-semibold text-[hsl(var(--ink))] tracking-tight",children:i}),m&&(0,t.jsx)("p",{className:"mt-1 text-sm text-[hsl(var(--ink-muted))]",children:m})]}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:c,className:"cursor-pointer -mr-2 -mt-1 hover:bg-[hsl(var(--sand-2))] rounded-xl transition-colors duration-200","aria-label":"关闭弹窗",children:(0,t.jsx)(a,{className:"h-5 w-5"})})]}),(0,t.jsx)("div",{className:(0,l.default)("max-h-[65vh] overflow-y-auto py-4 text-sm text-[hsl(var(--ink))]","scrollbar-thin scrollbar-thumb-[hsl(var(--line))] scrollbar-track-transparent","pr-2 -mr-2"),children:d}),h&&(0,t.jsx)("div",{className:"border-t border-[hsl(var(--line))]/60 pt-5 mt-2",children:h})]})]}):null}e.s(["Modal",()=>i],32098)},96640,e=>{"use strict";var t=e.i(43476),s=e.i(7670);let a={neutral:"bg-[hsl(var(--sand-2))] text-[hsl(var(--ink))]",success:"bg-[hsl(var(--success))]/15 text-[hsl(var(--success))]",warning:"bg-[hsl(var(--warning))]/15 text-[hsl(var(--warning))]",danger:"bg-[hsl(var(--danger))]/15 text-[hsl(var(--danger))]",info:"bg-[hsl(var(--info))]/15 text-[hsl(var(--info))]"};function l({tone:e="neutral",className:l,...r}){return(0,t.jsx)("span",{className:(0,s.default)("inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-[0.12em]",a[e],l),...r})}e.s(["Badge",()=>l])},3812,e=>{"use strict";var t=e.i(43476),s=e.i(7670);function a({className:e,...a}){return(0,t.jsx)("input",{className:(0,s.default)("w-full rounded-2xl border border-[hsl(var(--line))] bg-[hsl(var(--card))]/80 px-4 py-2 text-sm text-[hsl(var(--ink))] shadow-sm outline-none transition placeholder:text-[hsl(var(--ink-muted))] focus:border-[hsl(var(--accent))] focus:ring-2 focus:ring-[hsl(var(--accent))]/20",e),...a})}e.s(["Input",()=>a])},59544,e=>{"use strict";var t=e.i(43476),s=e.i(7670);let a={primary:"bg-[hsl(var(--accent))] text-white hover:bg-[hsl(var(--accent-2))]",secondary:"bg-[hsl(var(--accent-2))] text-white hover:bg-[hsl(var(--accent))]",outline:"border border-[hsl(var(--line))] text-[hsl(var(--ink))] hover:border-[hsl(var(--accent))] hover:text-[hsl(var(--accent))]",ghost:"text-[hsl(var(--ink))] hover:bg-[hsl(var(--sand-2))]",danger:"bg-[hsl(var(--danger))] text-white hover:bg-[hsl(var(--danger))]/90"},l={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-sm"};function r({variant:e="primary",size:r="md",className:n,...i}){return(0,t.jsx)("button",{className:(0,s.default)("inline-flex items-center justify-center gap-2 rounded-full font-medium transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[hsl(var(--accent))] focus-visible:ring-offset-2 focus-visible:ring-offset-[hsl(var(--sand))]",a[e],l[r],n),...i})}e.s(["Button",()=>r])},39964,e=>{"use strict";var t=e.i(43476),s=e.i(7670);function a({glass:e=!0,className:a,...l}){return(0,t.jsx)("div",{className:(0,s.default)("rounded-3xl p-6",e?"glass-card":"bg-[hsl(var(--card))] border border-[hsl(var(--line))]",a),...l})}e.s(["Card",()=>a])},88092,e=>{"use strict";let t=(0,e.i(75254).default)("shield-x",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);e.s(["ShieldX",()=>t],88092)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},62162,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(93302),l=e.i(80580),r=e.i(88092),n=e.i(71689);let i=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var c=e.i(59544),d=e.i(39964),h=e.i(20777);function o({title:e="访问被拒绝",description:s="您没有权限访问此页面。请联系管理员获取相应权限。",requiredPermission:a,showBackButton:l=!0,showHomeButton:o=!0}){return(0,t.jsx)("div",{className:"flex min-h-[60vh] items-center justify-center px-4",children:(0,t.jsx)(d.Card,{className:"max-w-md text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-[hsl(var(--danger))]/10",children:(0,t.jsx)(r.ShieldX,{className:"h-8 w-8 text-[hsl(var(--danger))]"})}),(0,t.jsx)("h1",{className:"font-display text-2xl text-[hsl(var(--ink))]",children:e}),(0,t.jsx)("p",{className:"text-sm text-[hsl(var(--ink-muted))]",children:s}),a&&(0,t.jsx)("div",{className:"mt-2 rounded-lg bg-[hsl(var(--sand-2))] px-4 py-2",children:(0,t.jsxs)("p",{className:"text-xs text-[hsl(var(--ink-muted))]",children:["所需权限：",(0,t.jsx)("code",{className:"ml-1 rounded bg-[hsl(var(--sand-3))] px-1.5 py-0.5 font-mono text-[hsl(var(--ink))]",children:a})]})}),(l||o)&&(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap justify-center gap-3",children:[l&&(0,t.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:()=>window.history.back(),children:[(0,t.jsx)(n.ArrowLeft,{className:"h-4 w-4"}),"返回上一页"]}),o&&(0,t.jsx)(h.StaticLink,{href:"/queue-op",children:(0,t.jsxs)(c.Button,{variant:"primary",size:"sm",children:[(0,t.jsx)(i,{className:"h-4 w-4"}),"返回首页"]})})]})]})})})}var m=e.i(55600);function x({permissions:e,projectLevel:r,projectId:n,children:i,deniedTitle:c,deniedDescription:d,loadingFallback:h}){let{hasAnyPermission:x,loading:u,isAuthenticated:p}=(0,a.usePermissions)(),{currentProject:v,projects:f,isLoading:j}=(0,l.useProject)(),[b,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{g(!0)},[]);let N="number"==typeof n?f.find(e=>e.id===n)||null:v,y=(()=>{if(!r)return!0;let e={read:1,write:2,admin:3},t=e[r]??0;return N?.permission_level?(e[N.permission_level]??0)>=t:f.length>0&&Math.max(...f.map(t=>e[t.permission_level??"read"]??0))>=t})();return((0,s.useEffect)(()=>{!b||u||p||(0,m.navigateTo)("/login")},[b,u,p]),!b||u||r&&j)?h?(0,t.jsx)(t.Fragment,{children:h}):(0,t.jsx)("div",{className:"flex min-h-[60vh] items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-[hsl(var(--accent))] border-t-transparent"}),(0,t.jsx)("p",{className:"text-sm text-[hsl(var(--ink-muted))]",children:"正在验证权限..."})]})}):p?r&&!y?(0,t.jsx)(o,{title:c||"无项目权限",description:d||"当前项目权限不足，无法访问该页面。",requiredPermission:`项目权限: ${r}`,showBackButton:!0,showHomeButton:!0}):x(e)?(0,t.jsx)(t.Fragment,{children:i}):(0,t.jsx)(o,{title:c,description:d,requiredPermission:e.join(" 或 "),showBackButton:!0,showHomeButton:!0}):(0,t.jsx)("div",{className:"flex min-h-[60vh] items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-[hsl(var(--accent))] border-t-transparent"}),(0,t.jsx)("p",{className:"text-sm text-[hsl(var(--ink-muted))]",children:"正在跳转到登录页面..."})]})})}e.s(["RequirePermission",()=>x],62162)},84030,e=>{"use strict";var t=e.i(71645),s=e.i(93302);function a(e,a){let{hasPermission:l}=(0,s.usePermissions)();return(0,t.useMemo)(()=>({canCreate:l(`${e}:create`,a),canRead:l(`${e}:read`,a),canUpdate:l(`${e}:update`,a),canDelete:l(`${e}:delete`,a),canExecute:l(`${e}:execute`,a),canExport:l(`${e}:export`,a)}),[e,a,l])}e.s(["useActionPermissions",()=>a])},86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},74886,98361,26336,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>s],74886);let a=(0,t.default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);e.s(["Maximize2",()=>a],98361);let l=(0,t.default)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);e.s(["Minimize2",()=>l],26336)},75379,e=>{"use strict";function t(e){return new Intl.NumberFormat("zh-CN").format(e)}function s(e){if(!e)return"-";let t=new Date("number"==typeof e?1e3*e:e);return Number.isNaN(t.getTime())?"-":new Intl.DateTimeFormat("zh-CN",{dateStyle:"medium",timeStyle:"short"}).format(t)}function a(e){let t=e=>String(e).padStart(2,"0");return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}T${t(e.getHours())}:${t(e.getMinutes())}`}function l(e){if(!e)return"";let t=e.includes("T")?e.replace("T"," "):e;return 16===t.length?`${t}:00`:t}e.s(["formatDateTime",()=>s,"formatNumber",()=>t,"toBackendDateTime",()=>l,"toDateTimeInputValue",()=>a])},57998,68402,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(64659),l=e.i(63059),r=e.i(74886),n=e.i(43531),i=e.i(98361),c=e.i(26336),d=e.i(32098),h=e.i(59544);function o({data:e,path:r="",level:n=0,defaultExpanded:i=!0}){let[c,d]=(0,s.useState)(i);if(null===e)return(0,t.jsx)("span",{className:"text-[hsl(var(--danger))]",children:"null"});if("boolean"==typeof e)return(0,t.jsx)("span",{className:"text-[hsl(var(--warning))]",children:e.toString()});if("number"==typeof e)return(0,t.jsx)("span",{className:"text-[hsl(var(--success))]",children:e});if("string"==typeof e)return(0,t.jsxs)("span",{className:"text-[hsl(var(--info))]",children:['"',e,'"']});if(Array.isArray(e))return 0===e.length?(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:"[]"}):(0,t.jsxs)("span",{children:[(0,t.jsx)("button",{onClick:()=>d(!c),className:"inline-flex items-center text-[hsl(var(--ink-muted))] hover:text-[hsl(var(--accent))] focus:outline-none",children:c?(0,t.jsx)(a.ChevronDown,{className:"h-3 w-3"}):(0,t.jsx)(l.ChevronRight,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:"["}),(0,t.jsxs)("span",{className:"text-[hsl(var(--ink-muted))] italic ml-1",children:[e.length," items"]}),c&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"ml-4 pl-3 border-l border-[hsl(var(--line))]",children:e.map((s,a)=>(0,t.jsxs)("div",{className:"leading-6",children:[(0,t.jsx)(o,{data:s,path:`${r}[${a}]`,level:n+1,defaultExpanded:i}),a<e.length-1&&(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:","})]},`${r}[${a}]`))}),(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:"]"})]})]});if("object"==typeof e){let s=Object.entries(e);return 0===s.length?(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:"{}"}):(0,t.jsxs)("span",{children:[(0,t.jsx)("button",{onClick:()=>d(!c),className:"inline-flex items-center text-[hsl(var(--ink-muted))] hover:text-[hsl(var(--accent))] focus:outline-none",children:c?(0,t.jsx)(a.ChevronDown,{className:"h-3 w-3"}):(0,t.jsx)(l.ChevronRight,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:"{"}),(0,t.jsxs)("span",{className:"text-[hsl(var(--ink-muted))] italic ml-1",children:[s.length," keys"]}),c&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"ml-4 pl-3 border-l border-[hsl(var(--line))]",children:s.map(([e,a],l)=>(0,t.jsxs)("div",{className:"leading-6",children:[(0,t.jsxs)("span",{className:"text-[hsl(var(--accent-2))]",children:['"',e,'"']}),(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:": "}),(0,t.jsx)(o,{data:a,path:`${r}.${e}`,level:n+1,defaultExpanded:i}),l<s.length-1&&(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:","})]},`${r}.${e}`))}),(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:"}"})]})]})}return(0,t.jsx)("span",{className:"text-[hsl(var(--ink))]",children:String(e)})}function m({open:e,title:a,content:l,onClose:m}){let[x,u]=(0,s.useState)(!1),[p,v]=(0,s.useState)(!0),{data:f,error:j}=(0,s.useMemo)(()=>(function(e){if(!e||""===e.trim()||"-"===e)return{data:null,error:"No content"};try{return{data:JSON.parse(e),error:null}}catch{try{let t=JSON.parse(`"${e.replace(/"/g,'\\"')}"`);return{data:JSON.parse(t),error:null}}catch{return{data:e,error:null}}}})(l),[l]),b=(0,s.useMemo)(()=>{if(j||null===f)return l;try{return JSON.stringify(f,null,2)}catch{return l}},[f,j,l]),g=(0,s.useCallback)(async()=>{try{await navigator.clipboard.writeText(b),u(!0),setTimeout(()=>u(!1),2e3)}catch{let e=document.createElement("textarea");e.value=b,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),u(!0),setTimeout(()=>u(!1),2e3)}},[b]),N=null===j&&null!==f&&"object"==typeof f;return(0,t.jsx)(d.Modal,{open:e,title:a,onClose:m,size:"xl",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 pb-3 border-b border-[hsl(var(--line))]",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:N&&(0,t.jsx)(h.Button,{variant:"outline",size:"sm",onClick:()=>v(!p),children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Minimize2,{className:"h-3 w-3"}),"折叠全部"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Maximize2,{className:"h-3 w-3"}),"展开全部"]})})}),(0,t.jsx)(h.Button,{variant:x?"primary":"outline",size:"sm",onClick:g,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Check,{className:"h-3 w-3"}),"已复制"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Copy,{className:"h-3 w-3"}),"复制"]})})]}),(0,t.jsx)("div",{className:"rounded-xl bg-[hsl(var(--sand-2))] p-4 overflow-auto max-h-[60vh]",children:N?(0,t.jsx)("pre",{className:"font-mono text-sm whitespace-pre-wrap break-all",children:(0,t.jsx)(o,{data:f,defaultExpanded:p},p?"expanded":"collapsed")}):(0,t.jsx)("pre",{className:"font-mono text-sm whitespace-pre-wrap break-all text-[hsl(var(--ink))]",children:l||"-"})})]})})}function x(e,t=!1,a=1e4){var l,r;let n,[i,c]=(0,s.useState)(t),d=(0,s.useCallback)(()=>c(e=>!e),[]);return l=()=>{i&&e()},r=i?a:null,n=(0,s.useRef)(l),(0,s.useEffect)(()=>{n.current=l},[l]),(0,s.useEffect)(()=>{if(null===r)return;let e=setInterval(()=>n.current(),r);return()=>clearInterval(e)},[r]),{enabled:i,toggle:d,setEnabled:c}}e.s(["JsonViewerModal",()=>m],57998),e.s(["useAutoRefresh",()=>x],68402)},86024,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(16715),l=e.i(75254);let r=(0,l.default)("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var n=e.i(55436),i=e.i(86536),c=e.i(74886),d=e.i(43531),h=e.i(3116),o=e.i(62162),m=e.i(96640),x=e.i(59544),u=e.i(39964),p=e.i(40803),v=e.i(3812),f=e.i(7670);let j=(0,l.default)("chevron-first",[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]]),b=(0,l.default)("chevron-last",[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]]);var g=e.i(73375),N=e.i(63059);let y=[20,50,100,200];function k({currentPage:e,pageSize:a,totalCount:l,pageSizeOptions:r=y,onPageChange:n,onPageSizeChange:i,loading:c=!1}){let d=Math.max(1,Math.ceil(l/a)),h=Math.max(0,Math.min(e,d-1)),o=0===l?0:h*a+1,m=Math.min((h+1)*a,l),x=h>0,u=h<d-1,[p,v]=(0,s.useState)(""),f=(0,s.useCallback)(()=>{if(!p||c)return;let e=parseInt(p,10);isNaN(e)||e<1||e>d||n(e-1),v("")},[p,c,d,n]);return(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 py-4",children:[(0,t.jsx)("div",{className:"text-sm text-[hsl(var(--ink-muted))]",children:0===l?(0,t.jsx)("span",{children:"共 0 条记录"}):(0,t.jsxs)("span",{children:["显示 ",o,"-",m," 条，共 ",l.toLocaleString()," 条"]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--ink-muted))]",children:"每页"}),(0,t.jsx)("select",{value:a,onChange:e=>{i(parseInt(e.target.value,10))},disabled:c,className:"rounded-lg border border-[hsl(var(--line))] bg-[hsl(var(--card))]/80 px-2 py-1 text-sm text-[hsl(var(--ink))] outline-none transition focus:border-[hsl(var(--accent))] disabled:opacity-50",children:r.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--ink-muted))]",children:"条"})]}),(0,t.jsxs)("div",{className:"text-sm text-[hsl(var(--ink-muted))]",children:["第 ",h+1," / ",d," 页"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(w,{onClick:()=>{x&&!c&&n(0)},disabled:!x||c,title:"首页",children:(0,t.jsx)(j,{className:"h-4 w-4"})}),(0,t.jsx)(w,{onClick:()=>{x&&!c&&n(h-1)},disabled:!x||c,title:"上一页",children:(0,t.jsx)(g.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsx)(w,{onClick:()=>{u&&!c&&n(h+1)},disabled:!u||c,title:"下一页",children:(0,t.jsx)(N.ChevronRight,{className:"h-4 w-4"})}),(0,t.jsx)(w,{onClick:()=>{u&&!c&&n(d-1)},disabled:!u||c,title:"末页",children:(0,t.jsx)(b,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--ink-muted))]",children:"跳至"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>{v(e.target.value.replace(/[^0-9]/g,""))},onKeyDown:e=>{"Enter"===e.key&&f()},onBlur:f,disabled:c||d<=1,placeholder:String(h+1),className:"w-14 rounded-lg border border-[hsl(var(--line))] bg-[hsl(var(--card))]/80 px-2 py-1 text-center text-sm text-[hsl(var(--ink))] outline-none transition focus:border-[hsl(var(--accent))] disabled:opacity-50"}),(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--ink-muted))]",children:"页"})]})]})]})}function w({onClick:e,disabled:s,title:a,children:l}){return(0,t.jsx)("button",{onClick:e,disabled:s,title:a,className:(0,f.default)("inline-flex h-8 w-8 items-center justify-center rounded-lg border transition-colors",s?"cursor-not-allowed border-[hsl(var(--line))] bg-[hsl(var(--sand-2))] text-[hsl(var(--ink-muted))]/50":"border-[hsl(var(--line))] bg-[hsl(var(--card))] text-[hsl(var(--ink-muted))] hover:border-[hsl(var(--accent))] hover:text-[hsl(var(--accent))]"),children:l})}var C=e.i(34084),S=e.i(67073),_=e.i(38171),M=e.i(57998),T=e.i(9165),$=e.i(75379),D=e.i(68402),z=e.i(84030),B=e.i(80580);let E=[{minutes:1,label:"1分钟"},{minutes:10,label:"10分钟"},{minutes:60,label:"1小时"},{minutes:360,label:"6小时"},{minutes:1440,label:"1天"},{minutes:2880,label:"2天"},{minutes:10080,label:"7天"},{minutes:43200,label:"30天"}],I=[{value:5,label:"5秒"},{value:10,label:"10秒"},{value:30,label:"30秒"},{value:60,label:"60秒"}];function F(){let[e,l]=(0,s.useState)([]),[f,j]=(0,s.useState)(""),[b,g]=(0,s.useState)("all"),[N,y]=(0,s.useState)(""),[w,F]=(0,s.useState)(""),[q,P]=(0,s.useState)(""),[R,A]=(0,s.useState)(""),[V,O]=(0,s.useState)(""),[H,L]=(0,s.useState)([]),[J,U]=(0,s.useState)(null),[K,X]=(0,s.useState)(null),[Q,Y]=(0,s.useState)(null),[G,W]=(0,s.useState)(!1),[Z,ee]=(0,s.useState)(30),[et,es]=(0,s.useState)(null),[ea,el]=(0,s.useState)(0),[er,en]=(0,s.useState)(20),[ei,ec]=(0,s.useState)(0),[ed,eh]=(0,s.useState)(!1),[eo,em]=(0,s.useState)(""),[ex,eu]=(0,s.useState)(""),{currentProject:ep,careProjectName:ev}=(0,B.useProject)(),{canExecute:ef}=(0,z.useActionPermissions)("queue"),ej=ep?.permission_level??"admin",eb=!ep||"write"===ej||"admin"===ej,eg=ef&&eb,{enabled:eN,toggle:ey}=(0,D.useAutoRefresh)(()=>ew(),!1,1e3*Z);(0,s.useEffect)(()=>{let e=new Date,t=new Date(e.getTime()-1728e5);A((0,$.toDateTimeInputValue)(t)),O((0,$.toDateTimeInputValue)(e))},[]);let ek=(0,s.useCallback)(async()=>{try{let e="/query_cols";ep?.id&&(e+=`?project_id=${ep.id}`);let t=await (0,T.apiFetch)(e);l(t),!f&&t.length>0&&j(t[0].collection_name)}catch(e){Y(e instanceof Error?e.message:"加载队列失败。")}},[f,ep?.id,ev]),ew=(0,s.useCallback)(async()=>{if(f&&R&&V){W(!0),Y(null);try{let e=eN?(0,$.toDateTimeInputValue)(new Date):V;eN&&O(e);let t=(0,T.buildQuery)({col_name:f,start_time:(0,$.toBackendDateTime)(R),end_time:(0,$.toBackendDateTime)(e),is_success:"all"===b?"":b,function_params:N,task_id:w,page:ea,page_size:er,project_id:ep?.id||""}),s=await (0,T.apiFetch)(`/query_result?${t}`);L(s.data),ec(s.total_count);let a=(0,T.buildQuery)({col_name:f,start_time:(0,$.toBackendDateTime)(R),end_time:(0,$.toBackendDateTime)(e),project_id:ep?.id||""}),l=await (0,T.apiFetch)(`/speed_stats?${a}`);U(l);let r=await (0,T.funboostFetch)(`/funboost/get_msg_count?queue_name=${encodeURIComponent(f)}${ep?.id?`&project_id=${ep.id}`:""}`);X(r.count)}catch(e){Y(e instanceof Error?e.message:"加载结果失败。")}finally{W(!1)}}},[f,R,V,b,N,w,eN,ea,er,ep?.id,ev]);(0,s.useEffect)(()=>{ek()},[ek]),(0,s.useEffect)(()=>{f&&ew()},[f,ew]);let eC=(0,s.useMemo)(()=>{if(!q)return H;let e=Number(q);return Number.isNaN(e)?H:H.filter(t=>t.time_cost>=e)},[H,q]),eS=(0,s.useMemo)(()=>{if(!R||!V)return null;let e=new Date(R),t=Math.round((new Date(V).getTime()-e.getTime())/6e4);for(let e of E)if(5>=Math.abs(t-e.minutes))return e.minutes;return null},[R,V]),e_=async e=>{try{if(!eg)return void Y("当前项目无写权限，无法重试任务。");let t=JSON.parse(e.params_str||"{}");await (0,T.funboostFetch)("/funboost/publish",{method:"POST",json:{queue_name:f,msg_body:t,task_id:e.task_id,project_id:ep?.id}}),Y("已发送重试。")}catch(e){Y(e instanceof Error?e.message:"重试失败。")}},eM=(e,t)=>{em(e),eu(t),eh(!0)},eT=async e=>{try{await navigator.clipboard.writeText(e),es(e),setTimeout(()=>es(null),2e3)}catch{}},e$=(e,t=50)=>{if(null==e)return"-";let s="string"==typeof e?e:JSON.stringify(e);return s?s.length<=t?s:s.substring(0,t)+"...":"-"};return(0,t.jsx)(o.RequirePermission,{permissions:["queue:read"],projectLevel:"read",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[(0,t.jsxs)(x.Button,{variant:"outline",size:"sm",onClick:ew,children:[(0,t.jsx)(a.RefreshCw,{className:`h-4 w-4 ${G?"animate-spin":""}`}),"数据刷新"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 rounded-full border border-[hsl(var(--line))] p-0.5",children:[(0,t.jsx)("span",{className:"px-2 text-xs text-[hsl(var(--ink-muted))]",children:"刷新间隔:"}),I.map(e=>(0,t.jsx)("button",{onClick:()=>ee(e.value),className:`px-2 py-1 text-xs rounded-full transition ${Z===e.value?"bg-[hsl(var(--accent))] text-white":"text-[hsl(var(--ink-muted))] hover:text-[hsl(var(--ink))]"}`,children:e.label},e.value))]}),(0,t.jsxs)(x.Button,{variant:eN?"primary":"outline",size:"sm",onClick:ey,children:[(0,t.jsx)(h.Clock,{className:"h-4 w-4"}),"自动刷新中"]})]}),Q?(0,t.jsx)(u.Card,{className:"border border-[hsl(var(--accent))]/30 bg-[hsl(var(--accent))]/10 text-sm text-[hsl(var(--accent-2))]",children:Q}):null,(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[hsl(var(--ink-muted))]",children:"队列名称"}),(0,t.jsx)(S.Select,{value:f,onChange:e=>j(e.target.value),children:e.map(e=>(0,t.jsxs)("option",{value:e.collection_name,children:[e.collection_name," (记录数: ",(0,$.formatNumber)(e.count),")"]},e.collection_name))})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[hsl(var(--ink-muted))]",children:"起始时间"}),(0,t.jsx)(v.Input,{type:"datetime-local",value:R,onChange:e=>A(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[hsl(var(--ink-muted))]",children:"截止时间"}),(0,t.jsx)(v.Input,{type:"datetime-local",value:V,onChange:e=>O(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[hsl(var(--ink-muted))]",children:"运行状态"}),(0,t.jsxs)(S.Select,{value:b,onChange:e=>g(e.target.value),children:[(0,t.jsx)("option",{value:"all",children:"全部"}),(0,t.jsx)("option",{value:"2",children:"成功"}),(0,t.jsx)("option",{value:"3",children:"失败"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[hsl(var(--ink-muted))]",children:"函数参数"}),(0,t.jsx)(v.Input,{placeholder:"输入参数搜索关键...",value:N,onChange:e=>y(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-[hsl(var(--ink-muted))]",children:"Task ID"}),(0,t.jsx)(v.Input,{placeholder:"输入task_id...",value:w,onChange:e=>F(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--ink-muted))]",children:"快捷时间:"}),E.map(e=>{let s=eS===e.minutes;return(0,t.jsxs)("button",{onClick:()=>{let t=new Date,s=new Date(t.getTime()-60*e.minutes*1e3);A((0,$.toDateTimeInputValue)(s)),O((0,$.toDateTimeInputValue)(t))},className:`px-3 py-1.5 text-xs rounded-full border transition ${s?"border-[hsl(var(--accent))] bg-[hsl(var(--accent))] text-white":"border-[hsl(var(--line))] text-[hsl(var(--ink-muted))] hover:border-[hsl(var(--accent))] hover:text-[hsl(var(--accent))]"}`,children:["近",e.label]},e.minutes)}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-xs text-[hsl(var(--ink-muted))]",children:"最小耗时(秒)"}),(0,t.jsx)(v.Input,{className:"w-20",placeholder:"如: 1",value:q,onChange:e=>P(e.target.value)})]}),(0,t.jsxs)(x.Button,{variant:"primary",onClick:()=>{el(0),ew()},children:[(0,t.jsx)(n.Search,{className:"h-4 w-4"}),"查询"]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(_.StatCard,{label:"当前队列",value:f?e$(f,20):"-",helper:"已选范围"}),(0,t.jsx)(_.StatCard,{label:"查询范围统计",value:J?(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{className:"text-[hsl(var(--success))]",children:["成功: ",(0,$.formatNumber)(J.success_num)]})," / ",(0,t.jsxs)("span",{className:"text-[hsl(var(--danger))]",children:["失败: ",(0,$.formatNumber)(J.fail_num)]})]}):"-",helper:"时间范围内"}),(0,t.jsx)(_.StatCard,{label:"最近1分钟",value:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-[hsl(var(--success))]",children:"成功: 0"})," / ",(0,t.jsx)("span",{className:"text-[hsl(var(--danger))]",children:"失败: 0"})]}),helper:"10秒/刷新"}),(0,t.jsx)(_.StatCard,{label:"队列剩余消息",value:null!==K?(0,$.formatNumber)(K):"-",helper:"10秒/刷新"})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)(C.SectionHeader,{title:"执行记录列表",subtitle:""})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:G?(0,t.jsxs)("div",{className:"py-8 text-center text-sm text-[hsl(var(--ink-muted))]",children:[(0,t.jsx)(a.RefreshCw,{className:"h-8 w-8 mx-auto mb-2 animate-spin text-[hsl(var(--accent))]"}),"正在加载结果..."]}):0===eC.length?(0,t.jsx)(p.EmptyState,{title:"暂无结果",subtitle:"尝试调整时间范围或队列。"}):(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"text-left text-xs uppercase tracking-wider text-[hsl(var(--ink-muted))] bg-[hsl(var(--sand-2))]",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"函数名称"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"Task ID"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"函数入参"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"函数结果"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"发布时间"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"开始时间"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"耗时(秒)"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"执行次数"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"运行状态"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"是否成功"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"健康策略"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"执行机器"}),(0,t.jsx)("th",{className:"px-3 py-3 font-medium whitespace-nowrap",children:"线程数"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-[hsl(var(--line))]",children:eC.map((e,s)=>{let a=!e.success,l="running"===e.run_status;return(0,t.jsxs)("tr",{className:"hover:bg-[hsl(var(--sand-2))]/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-3 py-3 font-medium text-[hsl(var(--ink))] whitespace-nowrap max-w-[120px]",children:(0,t.jsx)("span",{className:"truncate block",title:e.function,children:e.function})}),(0,t.jsx)("td",{className:"px-3 py-3 text-xs text-[hsl(var(--ink-muted))] max-w-[180px]",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"truncate block",title:e.task_id,children:e$(e.task_id,20)}),(0,t.jsx)("button",{onClick:()=>eT(e.task_id),className:"p-1 rounded hover:bg-[hsl(var(--sand-2))] text-[hsl(var(--ink-muted))] hover:text-[hsl(var(--accent))]",title:"复制 Task ID",children:et===e.task_id?(0,t.jsx)(d.Check,{className:"h-3 w-3 text-[hsl(var(--success))]"}):(0,t.jsx)(c.Copy,{className:"h-3 w-3"})})]})}),(0,t.jsx)("td",{className:"px-3 py-3 max-w-[150px]",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--ink-muted))] truncate block max-w-[80px]",children:e$(e.params_str,20)}),e.params_str&&"-"!==e.params_str&&(0,t.jsx)(x.Button,{variant:"ghost",size:"sm",className:"p-1 h-auto",onClick:()=>eM("函数入参",e.params_str),children:(0,t.jsx)(i.Eye,{className:"h-3 w-3"})})]})}),(0,t.jsx)("td",{className:"px-3 py-3 max-w-[150px]",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs text-[hsl(var(--ink-muted))] truncate block max-w-[80px]",children:e$(e.result||e.exception,20)}),(e.result||e.exception)&&(0,t.jsx)(x.Button,{variant:"ghost",size:"sm",className:"p-1 h-auto",onClick:()=>eM(a?"异常信息":"函数结果",e.result||e.exception),children:(0,t.jsx)(i.Eye,{className:"h-3 w-3"})})]})}),(0,t.jsx)("td",{className:"px-3 py-3 text-xs text-[hsl(var(--ink-muted))] whitespace-nowrap",children:e.publish_time_format||"-"}),(0,t.jsx)("td",{className:"px-3 py-3 text-xs text-[hsl(var(--ink-muted))] whitespace-nowrap",children:e.time_start?(0,$.formatDateTime)(e.time_start):"-"}),(0,t.jsx)("td",{className:"px-3 py-3 text-[hsl(var(--ink))] whitespace-nowrap",children:e.time_cost?.toFixed(3)||"-"}),(0,t.jsx)("td",{className:"px-3 py-3 text-center text-[hsl(var(--ink))]",children:e.run_times||1}),(0,t.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:(0,t.jsx)(m.Badge,{tone:l?"info":"neutral",children:e.run_status||"finish"})}),(0,t.jsx)("td",{className:"px-3 py-3 whitespace-nowrap",children:l?(0,t.jsx)("span",{className:"text-[hsl(var(--info))]",children:"-"}):a?(0,t.jsx)(m.Badge,{tone:"danger",children:"失败"}):(0,t.jsx)(m.Badge,{tone:"success",children:"成功"})}),(0,t.jsx)("td",{className:"px-3 py-3 text-center",children:a&&e.params_str?(0,t.jsxs)(x.Button,{variant:"outline",size:"sm",className:"h-7 px-2",onClick:()=>e_(e),disabled:!eg,children:[(0,t.jsx)(r,{className:"h-3 w-3"}),"重试"]}):(0,t.jsx)("span",{className:"text-[hsl(var(--ink-muted))]",children:"-"})}),(0,t.jsx)("td",{className:"px-3 py-3 text-xs text-[hsl(var(--ink-muted))] whitespace-nowrap max-w-[120px]",children:(0,t.jsx)("span",{className:"truncate block",title:e.host_process,children:e$(e.host_process,15)||"-"})}),(0,t.jsx)("td",{className:"px-3 py-3 text-center text-[hsl(var(--ink))]",children:e.total_thread||"-"})]},`${e.task_id}-${s}`)})})]})}),(0,t.jsx)(k,{currentPage:ea,pageSize:er,totalCount:ei,onPageChange:e=>{el(e)},onPageSizeChange:e=>{en(e),el(0)},loading:G})]}),(0,t.jsx)(M.JsonViewerModal,{open:ed,title:eo,content:ex,onClose:()=>eh(!1)})]})})}e.s(["default",()=>F],86024)}]);