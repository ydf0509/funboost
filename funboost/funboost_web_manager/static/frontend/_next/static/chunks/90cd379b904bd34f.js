(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7670,e=>{"use strict";e.s(["default",0,function(){for(var e,s,t=0,r="",a=arguments.length;t<a;t++)(e=arguments[t])&&(s=function e(s){var t,r,a="";if("string"==typeof s||"number"==typeof s)a+=s;else if("object"==typeof s)if(Array.isArray(s)){var l=s.length;for(t=0;t<l;t++)s[t]&&(r=e(s[t]))&&(a&&(a+=" "),a+=r)}else for(r in s)s[r]&&(a&&(a+=" "),a+=r);return a}(e))&&(r&&(r+=" "),r+=s);return r}])},59544,e=>{"use strict";var s=e.i(43476),t=e.i(7670);let r={primary:"bg-[hsl(var(--accent))] text-white hover:bg-[hsl(var(--accent-2))]",secondary:"bg-[hsl(var(--accent-2))] text-white hover:bg-[hsl(var(--accent))]",outline:"border border-[hsl(var(--line))] text-[hsl(var(--ink))] hover:border-[hsl(var(--accent))] hover:text-[hsl(var(--accent))]",ghost:"text-[hsl(var(--ink))] hover:bg-[hsl(var(--sand-2))]",danger:"bg-[hsl(var(--danger))] text-white hover:bg-[hsl(var(--danger))]/90"},a={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-sm"};function l({variant:e="primary",size:l="md",className:n,...i}){return(0,s.jsx)("button",{className:(0,t.default)("inline-flex items-center justify-center gap-2 rounded-full font-medium transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[hsl(var(--accent))] focus-visible:ring-offset-2 focus-visible:ring-offset-[hsl(var(--sand))]",r[e],a[l],n),...i})}e.s(["Button",()=>l])},3812,e=>{"use strict";var s=e.i(43476),t=e.i(7670);function r({className:e,...r}){return(0,s.jsx)("input",{className:(0,t.default)("w-full rounded-2xl border border-[hsl(var(--line))] bg-[hsl(var(--card))]/80 px-4 py-2 text-sm text-[hsl(var(--ink))] shadow-sm outline-none transition placeholder:text-[hsl(var(--ink-muted))] focus:border-[hsl(var(--accent))] focus:ring-2 focus:ring-[hsl(var(--accent))]/20",e),...r})}e.s(["Input",()=>r])},7033,e=>{"use strict";var s=e.i(47167),t=e.i(43476),r=e.i(71645),a=e.i(59544),l=e.i(3812);function n(){let[e,n]=(0,r.useState)(""),[i,c]=(0,r.useState)(null),[o,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),v=async t=>{t.preventDefault(),c(null),u(null),h(!0);try{let t=new FormData;t.append("email",e);let r=await fetch(`${s.default.env.NEXT_PUBLIC_API_BASE??""}/forgot_password`,{method:"POST",body:t,credentials:"include"}),a=await r.json();r.ok&&a.success?c(a.message||"如果邮箱存在，重置链接已发送。"):u(a.error||"请求失败，请稍后重试。")}catch(e){u(e instanceof Error?e.message:"请求失败，请稍后重试。")}finally{h(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)("h2",{className:"font-display text-xl text-[hsl(var(--ink))]",children:"重置密码"}),(0,t.jsx)("p",{className:"text-sm text-[hsl(var(--ink-muted))]",children:"我们会向邮箱发送重置链接。"})]}),(0,t.jsxs)("form",{className:"space-y-4",onSubmit:v,children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-[hsl(var(--ink-muted))]",children:"邮箱"}),(0,t.jsx)(l.Input,{type:"email",value:e,onChange:e=>n(e.target.value),required:!0})]}),i?(0,t.jsx)("div",{className:"rounded-2xl border border-[hsl(var(--success))]/30 bg-[hsl(var(--success))]/10 px-4 py-2 text-xs text-[hsl(var(--success))]",children:i}):null,o?(0,t.jsx)("div",{className:"rounded-2xl border border-[hsl(var(--danger))]/30 bg-[hsl(var(--danger))]/10 px-4 py-2 text-xs text-[hsl(var(--danger))]",children:o}):null,(0,t.jsx)(a.Button,{type:"submit",className:"w-full",disabled:d,children:d?"正在发送...":"发送重置链接"})]}),(0,t.jsx)("div",{className:"text-center text-xs text-[hsl(var(--ink-muted))]",children:(0,t.jsx)("a",{className:"font-semibold text-[hsl(var(--accent-2))]",href:"/login",children:"返回登录"})})]})}e.s(["default",()=>n])}]);