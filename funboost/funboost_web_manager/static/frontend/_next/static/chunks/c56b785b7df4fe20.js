(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59544,e=>{"use strict";var t=e.i(43476),s=e.i(7670);let r={primary:"bg-[hsl(var(--accent))] text-white hover:bg-[hsl(var(--accent-2))]",secondary:"bg-[hsl(var(--accent-2))] text-white hover:bg-[hsl(var(--accent))]",outline:"border border-[hsl(var(--line))] text-[hsl(var(--ink))] hover:border-[hsl(var(--accent))] hover:text-[hsl(var(--accent))]",ghost:"text-[hsl(var(--ink))] hover:bg-[hsl(var(--sand-2))]",danger:"bg-[hsl(var(--danger))] text-white hover:bg-[hsl(var(--danger))]/90",success:"bg-[hsl(var(--success))] text-white hover:bg-[hsl(var(--success))]/90",warning:"bg-[hsl(var(--warning))] text-white hover:bg-[hsl(var(--warning))]/90"},a={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-sm"};function n({variant:e="primary",size:n="md",className:l,...i}){return(0,t.jsx)("button",{className:(0,s.default)("inline-flex items-center justify-center gap-2 rounded-full font-medium transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[hsl(var(--accent))] focus-visible:ring-offset-2 focus-visible:ring-offset-[hsl(var(--sand))]",r[e],a[n],l),...i})}e.s(["Button",()=>n])},39964,e=>{"use strict";var t=e.i(43476),s=e.i(7670);function r({glass:e=!0,className:r,...a}){return(0,t.jsx)("div",{className:(0,s.default)("rounded-3xl p-6",e?"glass-card":"bg-[hsl(var(--card))] border border-[hsl(var(--line))]",r),...a})}e.s(["Card",()=>r])},3812,e=>{"use strict";var t=e.i(43476),s=e.i(7670);function r({className:e,...r}){return(0,t.jsx)("input",{className:(0,s.default)("w-full rounded-2xl border border-[hsl(var(--line))] bg-[hsl(var(--card))]/80 px-4 py-2 text-sm text-[hsl(var(--ink))] shadow-sm outline-none transition placeholder:text-[hsl(var(--ink-muted))] focus:border-[hsl(var(--accent))] focus:ring-2 focus:ring-[hsl(var(--accent))]/20",e),...r})}e.s(["Input",()=>r])},1052,e=>{"use strict";var t=e.i(47167),s=e.i(43476),r=e.i(71645),a=e.i(59544),n=e.i(39964),l=e.i(3812),i=e.i(55600);function c(){let[e,c]=(0,r.useState)(""),[o,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(!1),v=async s=>{s.preventDefault(),u(null),h(!0);try{let s=new FormData;s.append("new_email",e),await fetch(`${t.default.env.NEXT_PUBLIC_API_BASE??""}/profile/change-email`,{method:"POST",body:s,credentials:"include"}),u("验证邮件已发送。"),setTimeout(()=>(0,i.navigateTo)("/profile"),1200)}catch(e){u(e instanceof Error?e.message:"更新失败。")}finally{h(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[o?(0,s.jsx)(n.Card,{className:"border border-[hsl(var(--accent))]/30 bg-[hsl(var(--accent))]/10 text-sm text-[hsl(var(--accent-2))]",children:o}):null,(0,s.jsx)(n.Card,{children:(0,s.jsxs)("form",{className:"space-y-4",onSubmit:v,children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-[hsl(var(--ink-muted))]",children:"新邮箱"}),(0,s.jsx)(l.Input,{type:"email",value:e,onChange:e=>c(e.target.value),required:!0})]}),(0,s.jsx)("p",{className:"text-xs text-[hsl(var(--ink-muted))]",children:"验证链接 30 分钟后失效。"}),(0,s.jsx)(a.Button,{type:"submit",disabled:d,children:d?"正在发送...":"发送验证邮件"})]})})]})}e.s(["default",()=>c])}]);