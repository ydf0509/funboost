(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80228,e=>{"use strict";var t=e.i(16311),r=e.i(50567);let s={primary:"bg-[hsl(var(--accent))] text-white hover:bg-[hsl(var(--accent-2))]",secondary:"bg-[hsl(var(--accent-2))] text-white hover:bg-[hsl(var(--accent))]",outline:"border border-[hsl(var(--line))] text-[hsl(var(--ink))] hover:border-[hsl(var(--accent))] hover:text-[hsl(var(--accent))]",ghost:"text-[hsl(var(--ink))] hover:bg-[hsl(var(--sand-2))]",danger:"bg-[hsl(var(--danger))] text-white hover:bg-[hsl(var(--danger))]/90"},a={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-sm"};function n({variant:e="primary",size:n="md",className:l,...i}){return(0,t.jsx)("button",{className:(0,r.default)("inline-flex items-center justify-center gap-2 rounded-full font-medium transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[hsl(var(--accent))] focus-visible:ring-offset-2 focus-visible:ring-offset-[hsl(var(--sand))]",s[e],a[n],l),...i})}e.s(["Button",()=>n])},44828,e=>{"use strict";var t=e.i(16311),r=e.i(50567);function s({glass:e=!0,className:s,...a}){return(0,t.jsx)("div",{className:(0,r.default)("rounded-3xl p-6",e?"glass-card":"bg-[hsl(var(--card))] border border-[hsl(var(--line))]",s),...a})}e.s(["Card",()=>s])},43140,e=>{"use strict";var t=e.i(16311),r=e.i(50567);function s({className:e,...s}){return(0,t.jsx)("input",{className:(0,r.default)("w-full rounded-2xl border border-[hsl(var(--line))] bg-[hsl(var(--card))]/80 px-4 py-2 text-sm text-[hsl(var(--ink))] shadow-sm outline-none transition placeholder:text-[hsl(var(--ink-muted))] focus:border-[hsl(var(--accent))] focus:ring-2 focus:ring-[hsl(var(--accent))]/20",e),...s})}e.s(["Input",()=>s])},18718,e=>{"use strict";var t=e.i(3153),r=e.i(16311),s=e.i(16694),a=e.i(80228),n=e.i(44828),l=e.i(43140),i=e.i(84646);function c(){let[e,c]=(0,s.useState)(""),[o,d]=(0,s.useState)(null),[u,h]=(0,s.useState)(!1),v=async r=>{r.preventDefault(),d(null),h(!0);try{let r=new FormData;r.append("new_email",e),await fetch(`${t.default.env.NEXT_PUBLIC_API_BASE??""}/profile/change-email`,{method:"POST",body:r,credentials:"include"}),d("验证邮件已发送。"),setTimeout(()=>(0,i.navigateTo)("/profile"),1200)}catch(e){d(e instanceof Error?e.message:"更新失败。")}finally{h(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[o?(0,r.jsx)(n.Card,{className:"border border-[hsl(var(--accent))]/30 bg-[hsl(var(--accent))]/10 text-sm text-[hsl(var(--accent-2))]",children:o}):null,(0,r.jsx)(n.Card,{children:(0,r.jsxs)("form",{className:"space-y-4",onSubmit:v,children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-[hsl(var(--ink-muted))]",children:"新邮箱"}),(0,r.jsx)(l.Input,{type:"email",value:e,onChange:e=>c(e.target.value),required:!0})]}),(0,r.jsx)("p",{className:"text-xs text-[hsl(var(--ink-muted))]",children:"验证链接 30 分钟后失效。"}),(0,r.jsx)(a.Button,{type:"submit",disabled:u,children:u?"正在发送...":"发送验证邮件"})]})})]})}e.s(["default",()=>c])}]);