# /queue-op 队列洞察入口与弹窗需求（已确认）

## 目标
在队列操作页提供更直观的“洞察入口”，入口放在表格左侧；点击后弹出“队列洞察”弹窗，内容体现现有页面（任务结果 / 消费速率 / RPC）的主体结构，实现就地查看与操作。

## 范围与限制
- 仅修改前端 `web-manager-frontend` 内文件。
- 不新增后端接口，复用现有 API。
- 详细展示仍使用弹窗，不做行内展开。

## 交互与布局
### 入口位置
- 在 `QueueTable` 每行最左侧放置“洞察”入口按钮（靠近队列名，显眼优先）。
- 右侧操作区精简为运维动作（暂停/恢复/清空/配置/消费者等），不再承担“洞察入口”。

### 弹窗结构
- 弹窗尺寸：`Modal size=xl`
- 头部信息：队列名、状态（运行/暂停/空闲）、消费者数、消息数
- Tab 结构：
  1) 概览
  2) 结果
  3) 速率
  4) RPC
  5) 消费者

### Tab 内容（主体体现）
- 概览：QPS、失败率、积压、平均耗时 + 小型趋势/摘要
- 结果：复用“任务结果”主体结构（时间范围、状态筛选、结果列表、查看 JSON、复制 task_id、重试）
- 速率：复用“消费速率”主体结构（时间范围、采样数、曲线、统计卡、自动刷新）
- RPC：复用“RPC 调用”主体结构（参数输入、发送/查询、结果展示）
- 消费者：复用“按队列查看消费者”主体结构（列表 + JSON 详情）

## 数据与权限
- 只读权限可查看；写权限才允许 RPC、重试、暂停/清空等操作。
- Tab 首次进入时加载数据；自动刷新仅对“速率/结果”启用。
- 切换队列时清理上一个队列的结果状态。

## API 复用清单
- 结果：`/query_result`、`/speed_stats`
- 速率：`/queue/get_time_series_data/{queue}`
- RPC：`/funboost/publish`、`/funboost/get_result`
- 消费者：`/running_consumer/hearbeat_info_by_queue_name`
- 队列配置：`/funboost/get_one_queue_config`

## 验收标准
- 从 `/queue-op` 表格左侧“洞察”入口可直达弹窗。
- 弹窗各 Tab 可以展示对应主体内容，并支持核心交互（查询/刷新/发送 RPC）。
- 不需要跳转到其他页面即可完成“查看结果、查看速率、发送 RPC”。
